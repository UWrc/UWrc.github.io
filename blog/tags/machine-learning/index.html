<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="HYAK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="HYAK Blog Atom Feed"><title data-react-helmet="true">Posts tagged &quot;machine learning&quot; | HYAK</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;machine learning&quot; | HYAK"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;machine learning&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;machine learning&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/logos/uw_icon.png"><link rel="stylesheet" href="/styles.3966499e.css">
<link rel="preload" href="/styles.edd1fb20.js" as="script">
<link rel="preload" href="/runtime~main.c79ecc97.js" as="script">
<link rel="preload" href="/main.7195306c.js" as="script">
<link rel="preload" href="/1.af54088c.js" as="script">
<link rel="preload" href="/2.97a1c30e.js" as="script">
<link rel="preload" href="/1be78505.2264129e.js" as="script">
<link rel="preload" href="/6875c492.7985c61d.js" as="script">
<link rel="preload" href="/a6aa9e1f.99917e3e.js" as="script">
<link rel="preload" href="/e175ffcb.5a64a47c.js" as="script">
<link rel="preload" href="/e5fbabb7.79f2eb0d.js" as="script">
<link rel="preload" href="/bece1fcc.4cd309e8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logos/uw_icon.png" alt="HYAK Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logos/uw_icon.png" alt="HYAK Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Research Computing</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/systems">Systems</a><a class="navbar__item navbar__link" href="/pricing">Pricing</a><a class="navbar__item navbar__link" href="/docs">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/about">About</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/team">Our Team</a></li><li><a class="dropdown__link" href="/board">Governance Board</a></li><li><a class="dropdown__link" href="/publications">Publications</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logos/uw_icon.png" alt="HYAK Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logos/uw_icon.png" alt="HYAK Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Research Computing</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/systems">Systems</a></li><li class="menu__list-item"><a class="menu__link" href="/pricing">Pricing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs">Documentation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" role="button" href="/about">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/team">Our Team</a></li><li class="menu__list-item"><a class="menu__link" href="/board">Governance Board</a></li><li class="menu__list-item"><a class="menu__link" href="/publications">Publications</a></li></ul></li></ul></div></div></div></nav><div class="scroll-notifier" style="visibility:hidden;width:100%"></div><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2021/02/25/klone-soft-launch">Klone Soft Launch</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2021/01/10/pytorch-cuda11">Pytorch and CUDA11</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2021/01/09/gromacs-gpu">gromacs on GPUs</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2021/01/01/hello-world">Hello world!</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2020/12/14/scrna-seq">scRNA-seq</a></li></ul></div></div><main class="col col--8"><h1>1 post tagged with &quot;machine learning&quot;</h1><a href="/blog/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/2021/01/10/pytorch-cuda11">Pytorch and CUDA11</a></h2><div class="margin-vert--md"><time datetime="2021-01-10T00:00:00.000Z" class="blogPostDate_Ta7i">January 10, 2021  ¬∑ 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/npho" target="_blank" rel="noreferrer noopener"><img src="https://avatars3.githubusercontent.com/u/1252858?s=400&amp;v=4" alt="Nam Pho"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/npho" target="_blank" rel="noreferrer noopener">Nam Pho</a></h4><small class="avatar__subtitle">Director for Research Computing</small></div></div></header><section class="markdown"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>During the January 12, 2021 mox maintenance period long overdue package updates will be applied. The most user impactful upgrade is the GPU driver from to 418.40.04 to 460.27.04 that will allow for CUDA11 support (up from CUDA10).</p></div></div><p>The single biggest research use for GPUs on HYAK is for machine learning and artificial intelligence and the community has been clammoring for CUDA11 support for some time. Unfortunately, it&#x27;s not easy to separate the GPU driver from the node images so it had to wait until the next maintenance window and some testing for non-ML GPU workflows on HYAK like our <a href="/blog/2021/01/09/gromacs-gpu">gromacs</a> users in the molecular dynamics community.</p><p><strong>tl;dr</strong> your existing Pytorch codes should work but if you wanted to use the new features in Pytorch that required CUDA11 you can upgrade Pytorch and it will work.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installing-pytorch-with-cuda11"></a>Installing Pytorch with CUDA11<a class="hash-link" href="#installing-pytorch-with-cuda11" title="Direct link to heading">#</a></h3><p>Since this is now the latest and greatest on HYAK I&#x27;ve taken the opportunity to update the Python documentation on how to install Pytorch with CUDA11 support within a miniconda3 environment, check out the step-by-step <a href="/docs/tools/python">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reverse-compatibility-with-cuda10"></a>Reverse compatibility with CUDA10<a class="hash-link" href="#reverse-compatibility-with-cuda10" title="Direct link to heading">#</a></h3><p>Before the January 12, 2021 cluster maintenance every GPU on HYAK had a driver with CUDA10 and all of your codes were previously compiled against it. To test that the GPU driver update to CUDA11 wouldn&#x27;t impact the most popular machine learning libraries we are compiling Pytorch against our pre-maintenance CUDA10 and testing it against a GPU with the newer CUDA11 installed.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">conda create -p /gscratch/scrubbed/npho/pytorch-cuda10 </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">python</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3.8</span><span class="token plain"> -y</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>Activate your new <code>pytorch-cuda10</code> environment:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">conda activate pytorch-cuda10</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>The Pytorch website [<a href="https://pytorch.org/get-started/locally/" target="_blank" rel="noopener noreferrer">www</a>] has a nice getting started matrix that generates the requisite install commands against CUDA10.</p><p><img src="/img/blog/pytorch-cuda10.png" alt="pytorch-cuda10" title="Pytorch install instructions for pip with CUDA10"></p><p>The command shown above to copy-and-paste below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">torch</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token number" style="color:rgb(247, 140, 108)">1.7</span><span class="token plain">.1+cu101 </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">torchvision</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token number" style="color:rgb(247, 140, 108)">0.8</span><span class="token plain">.2+cu101 </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">torchaudio</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token number" style="color:rgb(247, 140, 108)">0.7</span><span class="token plain">.2 -f https://download.pytorch.org/whl/torch_stable.html</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>Now we can load the Python interpreter and confirm Pytorch is installed and the CUDA10 compiled library recognizes this GPU with CUDA11 [<a href="https://pytorch.org/get-started/locally/#linux-verification" target="_blank" rel="noopener noreferrer">www</a>].</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-shell-session codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div style="display:flex"><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ff5f56;margin-left:0"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ffbd2e;margin-left:8px"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#27c93f;margin-left:8px"></div></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pytorch-cuda10) $ python3                                                                               Python 3.8.5 (default, Sep  4 2020, 07:30:14) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[GCC 7.3.0] :: Anaconda, Inc. on linux</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; import torch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; torch.__version__</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;1.7.1+cu101&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; torch.cuda.is_available()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>Success! </p><p>Previously compiled libraries against CUDA10 from pre-January 12, 2021 maintenance times should still work on the GPUs now with CUDA11. However, if you want to use the full features of libraries that take advantage of newer capabilities in CUDA11 then you should definitely upgrade your libraries.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/ai">ai</a><a class="margin-horiz--sm" href="/blog/tags/ml">ml</a><a class="margin-horiz--sm" href="/blog/tags/machine-learning">machine learning</a><a class="margin-horiz--sm" href="/blog/tags/pytorch">pytorch</a><a class="margin-horiz--sm" href="/blog/tags/gpu">gpu</a><a class="margin-horiz--sm" href="/blog/tags/cuda">cuda</a><a class="margin-horiz--sm" href="/blog/tags/cuda-11">cuda11</a></div><div class="col text--right"><a aria-label="Read more about Pytorch and CUDA11" href="/blog/2021/01/10/pytorch-cuda11"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">HYAK</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/sign-up">Sign Up</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Sponsors</h4><ul class="footer__items"><li class="footer__item"><a href="https://artsci.washington.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">College of Arts &amp; Sciences</a></li><li class="footer__item"><a href="https://www.engr.washington.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">College of Engineering</a></li><li class="footer__item"><a href="https://environment.uw.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">College of the Environment</a></li><li class="footer__item"><a href="https://www.ipd.uw.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Institute for Protein Design</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:help@uw.edu?subject=hyak help footer" target="_blank" rel="noopener noreferrer" class="footer__link-item">E-mail</a></li><li class="footer__item"><a href="https://mailman1.u.washington.edu/mailman/listinfo/hyak-users" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li><li class="footer__item"><a href="https://uw-hpcc.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://github.com/uwrc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made with ‚ù§Ô∏è in Seattle</div></div></div></footer></div>
<script src="/styles.edd1fb20.js"></script>
<script src="/runtime~main.c79ecc97.js"></script>
<script src="/main.7195306c.js"></script>
<script src="/1.af54088c.js"></script>
<script src="/2.97a1c30e.js"></script>
<script src="/1be78505.2264129e.js"></script>
<script src="/6875c492.7985c61d.js"></script>
<script src="/a6aa9e1f.99917e3e.js"></script>
<script src="/e175ffcb.5a64a47c.js"></script>
<script src="/e5fbabb7.79f2eb0d.js"></script>
<script src="/bece1fcc.4cd309e8.js"></script>
</body>
</html>
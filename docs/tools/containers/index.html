<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Containers | HYAK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Containers | HYAK"><meta data-react-helmet="true" name="description" content="mox uses the Slurm job scheduler.  With ` as your UW NetID, login with ssh @mox.hyak.edu to gain access to the mox` login node.  The login node is used only for login and job submission.  The computational work itself is done on a compute or build node."><meta data-react-helmet="true" property="og:description" content="mox uses the Slurm job scheduler.  With ` as your UW NetID, login with ssh @mox.hyak.edu to gain access to the mox` login node.  The login node is used only for login and job submission.  The computational work itself is done on a compute or build node."><meta data-react-helmet="true" property="og:url" content="https://hyak.uw.edu/docs/tools/containers"><link data-react-helmet="true" rel="shortcut icon" href="/img/logos/uw_icon.png"><link data-react-helmet="true" rel="canonical" href="https://hyak.uw.edu/docs/tools/containers"><link rel="stylesheet" href="/styles.d5c213e0.css">
<link rel="preload" href="/styles.9010a70b.js" as="script">
<link rel="preload" href="/runtime~main.8c0411d9.js" as="script">
<link rel="preload" href="/main.89d9f2a1.js" as="script">
<link rel="preload" href="/1.17833472.js" as="script">
<link rel="preload" href="/2.c82e935d.js" as="script">
<link rel="preload" href="/3.3df69f52.js" as="script">
<link rel="preload" href="/74.df97ad25.js" as="script">
<link rel="preload" href="/1be78505.d186b99c.js" as="script">
<link rel="preload" href="/935f2afb.990ee59a.js" as="script">
<link rel="preload" href="/17896441.a339b587.js" as="script">
<link rel="preload" href="/8c3792d9.0950cc7a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top" style="position:sticky"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logos/uw_icon.png" alt="HYAK Logo"><strong class="navbar__title">Research Computing</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/systems">Systems</a><a class="navbar__item navbar__link" href="/pricing">Pricing</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/blog">Stories</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/about">About</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/about">Supporting You</a></li><li><a class="dropdown__link" href="/team">Our Team</a></li><li><a class="dropdown__link" href="/board">Governance Board</a></li><li><a class="dropdown__link" href="/publications">Publications</a></li></ul></div><div class="splashLogo_UTEc"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logos/uw_icon.png" alt="HYAK Logo"><strong class="navbar__title">Research Computing</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">Home</a></li><li class="menu__list-item"><a class="menu__link" href="/systems">Systems</a></li><li class="menu__list-item"><a class="menu__link" href="/pricing">Pricing</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Stories</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" role="button" href="/about">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/about">Supporting You</a></li><li class="menu__list-item"><a class="menu__link" href="/team">Our Team</a></li><li class="menu__list-item"><a class="menu__link" href="/board">Governance Board</a></li><li class="menu__list-item"><a class="menu__link" href="/publications">Publications</a></li></ul></li></ul></div></div></div></nav><div class="scroll-notifier" style="visibility:hidden;width:100%"></div><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Start Here</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/join-group">Join a Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/account-creation">Account Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/account-activation">Account Activation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/first-job">A First Job on Mox</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Storage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/storage/data">Start Here</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/storage/klone">Storage on KLONE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/storage/mox">Storage on MOX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/storage/transfer">Data Transfer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/storage/archive">Archive</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Compute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/compute/scheduling-jobs">Scheduling Jobs</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/modules">Modules</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/tools/containers">Containers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/jupyter">Jupyter Notebooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/python">Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/r">R and Rstudio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribution Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contribute/markdown-guide">Markdown Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contribute/link-markdown">Linking Markdown to Docusaurus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contribute/mdx">Powered by MDX</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Containers</h1></header><div class="markdown"><p><code>mox</code> uses the <a href="https://slurm.schedmd.com/overview.html" target="_blank" rel="noopener noreferrer">Slurm</a> job scheduler.  With <code>&lt;net_id&gt;</code> as your UW NetID, login with <code>ssh &lt;net_id&gt;@mox.hyak.edu</code> to gain access to the <code>mox</code> login node.  The login node is used only for login and job submission.  The computational work itself is done on a compute or build node.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interactive-nodes"></a>Interactive Nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interactive-nodes" title="Direct link to heading">#</a></h2><p>There are two types of interactive nodes.  Compute nodes run computations but cannot connect to the internet.  Build nodes are compute nodes that can connect to the Internet to get files and install packages from outside the <code>mox</code> ecosystem.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="obtaining-interactive-nodes"></a>Obtaining Interactive Nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#obtaining-interactive-nodes" title="Direct link to heading">#</a></h3><p>To get an interactive compute node with <code>&lt;size&gt;</code> GB of memory in your group partition called <code>&lt;group_name&gt;</code> for <code>&lt;time&gt;</code> hours, use:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">srun -p </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --time</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">time</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --mem</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">G --pty /bin/bash</span></div></div></div></div></div><p>Common acceptable time formats include <code>hours:minutes:seconds</code>, <code>days-hours</code>, and <code>minutes</code>.</p><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell-session codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div style="display:flex"><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ff5f56;margin-left:0"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ffbd2e;margin-left:8px"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#27c93f;margin-left:8px"></div></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@mox2 ~]$ srun -p stf --time=1:00:00 --mem=20G --pty /bin/bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@n2148 ~]$ </span></div></div></div></div></div><hr><p>To get an interactive compute node with <code>&lt;num_cores&gt;</code> cores, use:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">srun -p </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -A </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--ntasks-per-node</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">num_cores</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --time</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">time</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--mem</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">G --pty /bin/bash</span></div></div></div></div></div><hr><p>To get multiple interactive compute nodes with <code>&lt;num_nodes&gt;</code> as the number of nodes and <code>&lt;cores_per_node&gt;</code> as the number of cores, use:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">srun -p </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -A </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">num_nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--ntasks-per-node</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">cores_per_node</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --time</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">time</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--mem</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">G --pty /bin/bash</span></div></div></div></div></div><p>When this command runs, you will automatically enter into a session in one of the allocated nodes.  To view the names of all your allocated nodes, use <code>scontrol show hostnames</code>.</p><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>If you are using an interactive node to run a parallel application such as Python multiprocessing, MPI, OpenMP etc. then the number given for the <code>--ntasks-per-node</code> option must match the number of processes used by your application.</p></div></div><hr><p>If your group has an interactive node, use the option <code>-p &lt;group_name&gt;-int</code> like so: </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">srun -p </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">-int -A </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --time</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">time</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --mem</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">G --pty /bin/bash</span></div></div></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><ul><li><code>--pty /bin/bash</code> <strong>must</strong> be the last option given in above command</li><li>If you do not obtain a build node with the specified <code>--mem</code> value, try smaller memory values</li></ul></div></div><p>For more details, read the <a href="https://slurm.schedmd.com/srun.html" target="_blank" rel="noopener noreferrer"><code>srun</code> man page</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="build-nodes"></a>Build Nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#build-nodes" title="Direct link to heading">#</a></h3><p>Build nodes are allocated from the <code>build</code> group partition.  To obtain a build node, execute <code>srun</code> with the option <code>-p build</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="specifying-memory-size"></a>Specifying Memory Size<a aria-hidden="true" tabindex="-1" class="hash-link" href="#specifying-memory-size" title="Direct link to heading">#</a></h3><p>It is important to use the <code>--mem</code> option to specify the memory allocation; otherwise the Slurm scheduler limits the memory allocation to a default value which is usually quite low.</p><p>The value given to <code>--mem</code> should be smaller than the memory of the node as the operating system needs some.</p><ul><li>For 64GB nodes, use <code>--mem=58G</code></li><li>For 128GB nodes, use <code>--mem=120G</code></li><li>For 192GB nodes, use <code>--mem=185G</code></li><li>For 256GB nodes, use <code>--mem=248G</code></li><li>For 384GB nodes, use <code>--mem=374G</code></li><li>For 512GB nodes, use <code>--mem=500G</code></li><li>For 768GB nodes, use <code>--mem=752G</code></li><li>For the <code>knl</code> nodes, use <code>--mem=200G</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="slurm-environment-variables"></a>Slurm Environment Variables<a aria-hidden="true" tabindex="-1" class="hash-link" href="#slurm-environment-variables" title="Direct link to heading">#</a></h3><p>When a job scheduled by Slurm begins, it needs to about how it was scheduled, what its working directory is, who submitted the job, the number of nodes and cores allocated to it, etc.  This information is passed to Slurm via environment variables.  Additionally, these environment variables are also used as default values by programs like <code>mpirun</code>.  To view a node&#x27;s Slurm environment variables, use <code>export | grep SLURM</code>.
A comprehensive list of the environment variables Slurm sets for each job can be found at the end of the <a href="https://slurm.schedmd.com/sbatch.html" target="_blank" rel="noopener noreferrer"><code>sbatch</code> man page</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="batch-jobs"></a>Batch Jobs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#batch-jobs" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="single-node-batch-jobs"></a>Single Node Batch Jobs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#single-node-batch-jobs" title="Direct link to heading">#</a></h3><p>Below is a slurm script template.  Submit a batch job from the <code>mox</code> login node by calling <code>sbatch &lt;script_name&gt;.slurm</code>.</p><div class="mdxCodeBlock_1XEh"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_2TQJ">&lt;script_name&gt;.slurm</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb undefined">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div style="display:flex"><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ff5f56;margin-left:0"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ffbd2e;margin-left:8px"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#27c93f;margin-left:8px"></div></div><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">/bin/bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># JOB NAME</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --job-name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">your_job_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ALLOCATION DEFINITION</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># The account and partition options should be the same</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># except in a few cases (e.g. ckpt queue, genpool queue)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --account</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --partition</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># RESOURCES</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">num_nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># total number of nodes allocated</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --ntasks-per-node</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">cores_per_node</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># cores per node</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># WALL TIME</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Do not specify a wall time significantly more than your job needs</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Common acceptable time formats:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    hours:minutes:seconds e.g. 3:00:00 for 3 hours</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    minutes</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    days-hours</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --time</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">time</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># MEMORY PER NODE</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># See above &quot;Specifying Memory Size&quot; for options</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --mem</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">G  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># e.g. --mem=100G for 100 GB of memory</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># WORKING DIRECTORY ENTRYPOINT</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Specify the working directory for this job</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --chdir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/gscratch/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">net_id</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/path/to/dir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Turn on email notifications</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --mail-type</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ALL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --mail-user</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">your_email</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Export all environment variables to the batch job session</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --export</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Run the commands to run your program here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># e.g. load modules, copy input.output files, run program, etc.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">commands_to_run_your_program</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="multiple-node-batch-jobs"></a>Multiple Node Batch Jobs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#multiple-node-batch-jobs" title="Direct link to heading">#</a></h3><p>If your batch job is using multiple nodes, your program should also know how to use all the nodes (e.g. your program is an MPI program).</p><p>The value given for <code>--nodes</code> must be less than or equal to the total number of nodes owned by your group.</p><p>The value given for <code>--ntasks-per-node</code> should be either <code>28</code> for older <code>mox</code> nodes or <code>40</code> for newer nodes.  Do not increase these values.  You can decrease these values if your program is running out of memory on a node.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --ntasks-per-node</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">28</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># OR</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBATCH --ntasks-per-node</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">40</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="self-limiting-your-number-of-running-jobs"></a>Self-Limiting Your Number of Running Jobs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#self-limiting-your-number-of-running-jobs" title="Direct link to heading">#</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This feature is not enabled on the <code>ckpt</code> partition</p></div></div><p>At times you may wish to self-limit the number of jobs that will be run simultaneously in order to leave nodes in your group&#x27;s partition for other group members.  </p><p>To achieve this, you can add <code>SBATCH --qos=MaxJobs&lt;n&gt;</code> where <code>n</code> is a number between 1 and 10 to tell the job scheduler to allow only <code>n</code> jobs running with the option <code>--qos=MaxJobs&lt;n&gt;</code>.  </p><p>However, any other jobs without this option set are not limited and jobs with a different value of <code>n</code> are gated separately.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="common-slurm-error-messages"></a>Common Slurm Error Messages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#common-slurm-error-messages" title="Direct link to heading">#</a></h2><ul><li><strong><code>slurmstepd: error: Exceeded job memory limit</code></strong>: your program uses more memory than you allotted during node creation and it has run out of memory.  Get a node with more memory and try again.</li><li><strong><code>(ReqNodeNotAvail, UnavailableNodes:n[&lt;node numbers list&gt;]</code></strong>: your node will not expire (and might be running one of your jobs) before the next scheduled maintenance day.  Either get a node with a shorter <code>--time</code> duration or wait until after the maintenance has been completed.</li><li><strong><code>Unable to allocate resources: Invalid account or account/partition combination specified</code></strong>: you used <code>-p &lt;group_name&gt; -A &lt;group_name&gt;</code> and you do not belong to that group.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="utility-commands"></a>Utility Commands<a aria-hidden="true" tabindex="-1" class="hash-link" href="#utility-commands" title="Direct link to heading">#</a></h2><p>With <code>&lt;net_id&gt;</code> as your UW NetID and <code>&lt;group_name&gt;</code> as your Hyak group partition name, and <code>&lt;job_id&gt;</code> as an individual job ID:</p><ul><li><a href="https://slurm.schedmd.com/sinfo.html" target="_blank" rel="noopener noreferrer"><code>sinfo</code></a> is used to view information about <code>mox</code> nodes and partitions.  Use <code>sinfo -p &lt;group_name&gt;</code> to view information about your group&#x27;s partition or allocation.</li><li><a href="https://slurm.schedmd.com/squeue.html" target="_blank" rel="noopener noreferrer"><code>squeue</code></a> is used to view information about jobs located in the scheduling queue.  Use <code>squeue -p &lt;group_name&gt;</code> to view information about your group&#x27;s nodes.  Use <code>squeue -u &lt;net_id&gt;</code> to view your jobs.</li><li><a href="https://slurm.schedmd.com/scancel.html" target="_blank" rel="noopener noreferrer"><code>scancel</code></a> is used to cancel jobs.  Use <code>scancel &lt;job_id&gt;</code> to cancel a job with the given job ID, or use <code>scancel -u &lt;net_id&gt;</code> to cancel all of your jobs.</li><li><a href="https://slurm.schedmd.com/sstat.html" target="_blank" rel="noopener noreferrer"><code>sstat</code></a> displays status information of a running job pertaining to CPU, Task, Node, Resident Set Size (RSS), and Virtual Memory (VM) statistics.  Read the <a href="https://slurm.schedmd.com/sstat.html" target="_blank" rel="noopener noreferrer">man page</a> for a comprehensive list of format options.  </li><li><a href="https://slurm.schedmd.com/sacct.html" target="_blank" rel="noopener noreferrer"><code>sacct</code></a> displays information about completed jobs.  Read the <a href="https://slurm.schedmd.com/sacct.html" target="_blank" rel="noopener noreferrer">man page</a> for a comprehensive list of format options.</li><li><a href="https://slurm.schedmd.com/sreport.html" target="_blank" rel="noopener noreferrer"><code>sreport</code></a> generates reports about job usage and cluster utilization from Slurm accounting (<code>sacct</code>) data.  For example, to get historical usage the group <code>&lt;group_name&gt;</code> in March 2020, use <code>sreport cluster UserUtilizationByAccount Start=2020-03-01 End=2020-03-31 Accounts=&lt;group_name&gt;</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="for-advanced-users-only-salloc"></a>FOR ADVANCED USERS ONLY: <code>salloc</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#for-advanced-users-only-salloc" title="Direct link to heading">#</a></h2><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Do not use <code>salloc</code> unless you have a specific reason.</p></div></div><p>To get nodes for interactive use:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc -N </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">num_nodes</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -p </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> -A </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">group_name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --time</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">time</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --mem</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">G</span></div></div></div></div></div><p>When this command runs, you will have been allocated <code>num_nodes</code> nodes <strong>but you will still be on the <code>mox</code> login node</strong>.</p><p>Use <code>srun &lt;command&gt;</code> to run commands on all allocated nodes.</p><p>Use <code>scontrol show hostnames</code> to get the hostnames of your allocated nodes.  Once you have the hostnames, you can <code>ssh</code> to them using <code>ssh &lt;hostname&gt;</code> and then use them for your work (e.g. Apache Spark, Hadoop, etc.)</p><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-shell-session codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div style="display:flex"><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ff5f56;margin-left:0"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#ffbd2e;margin-left:8px"></div><div style="width:12px;height:12px;margin-bottom:16px;border-radius:50%;background-color:#27c93f;margin-left:8px"></div></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@mox2 ~]$ salloc -N 2 -p stf -A stf --time=5 --mem=5G</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc: Pending job allocation 2620960</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc: job 2620960 queued and waiting for resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc: job 2620960 has been allocated resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc: Granted job allocation 2620960</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc: Waiting for resource configuration</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">salloc: Nodes n[2148-2149] are ready for job</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@mox2 ~]$ srun echo &quot;test&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">test</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">test</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@mox2 ~]$ scontrol show hostnames</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">n2148</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">n2149</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@mox2 ~]$ ssh n2148</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Warning: Permanently added &#x27;n2148,10.64.56.248&#x27; (ECDSA) to the list of known hosts.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[linj66@n2148 ~]$</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="man-pages"></a>Man Pages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#man-pages" title="Direct link to heading">#</a></h2><p>All of these man pages can also be viewed on <code>mox</code> by running <code>man &lt;command&gt;</code>. </p><ul><li><a href="https://slurm.schedmd.com/sacct.html" target="_blank" rel="noopener noreferrer"><code>sacct</code></a></li><li><a href="https://slurm.schedmd.com/salloc.html" target="_blank" rel="noopener noreferrer"><code>salloc</code></a></li><li><a href="https://slurm.schedmd.com/sbatch.html" target="_blank" rel="noopener noreferrer"><code>sbatch</code></a></li><li><a href="https://slurm.schedmd.com/scancel.html" target="_blank" rel="noopener noreferrer"><code>scancel</code></a></li><li><a href="https://slurm.schedmd.com/scontrol.html" target="_blank" rel="noopener noreferrer"><code>scontrol</code></a></li><li><a href="https://slurm.schedmd.com/sinfo.html" target="_blank" rel="noopener noreferrer"><code>sinfo</code></a></li><li><a href="https://slurm.schedmd.com/squeue.html" target="_blank" rel="noopener noreferrer"><code>squeue</code></a></li><li><a href="https://slurm.schedmd.com/sreport.html" target="_blank" rel="noopener noreferrer"><code>sreport</code></a></li><li><a href="https://slurm.schedmd.com/srun.html" target="_blank" rel="noopener noreferrer"><code>srun</code></a></li><li><a href="https://slurm.schedmd.com/sstat.html" target="_blank" rel="noopener noreferrer"><code>sstat</code></a></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tools/modules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Modules</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tools/jupyter"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Jupyter Notebooks </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#interactive-nodes" class="table-of-contents__link">Interactive Nodes</a><ul><li><a href="#obtaining-interactive-nodes" class="table-of-contents__link">Obtaining Interactive Nodes</a></li><li><a href="#build-nodes" class="table-of-contents__link">Build Nodes</a></li><li><a href="#specifying-memory-size" class="table-of-contents__link">Specifying Memory Size</a></li><li><a href="#slurm-environment-variables" class="table-of-contents__link">Slurm Environment Variables</a></li></ul></li><li><a href="#batch-jobs" class="table-of-contents__link">Batch Jobs</a><ul><li><a href="#single-node-batch-jobs" class="table-of-contents__link">Single Node Batch Jobs</a></li><li><a href="#multiple-node-batch-jobs" class="table-of-contents__link">Multiple Node Batch Jobs</a></li><li><a href="#self-limiting-your-number-of-running-jobs" class="table-of-contents__link">Self-Limiting Your Number of Running Jobs</a></li></ul></li><li><a href="#common-slurm-error-messages" class="table-of-contents__link">Common Slurm Error Messages</a></li><li><a href="#utility-commands" class="table-of-contents__link">Utility Commands</a></li><li><a href="#for-advanced-users-only-salloc" class="table-of-contents__link">FOR ADVANCED USERS ONLY: <code>salloc</code></a></li><li><a href="#man-pages" class="table-of-contents__link">Man Pages</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">HYAK</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/sign-up">Sign Up</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Sponsors</h4><ul class="footer__items"><li class="footer__item"><a href="https://artsci.washington.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">College of Arts &amp; Sciences</a></li><li class="footer__item"><a href="https://www.engr.washington.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">College of Engineering</a></li><li class="footer__item"><a href="https://environment.uw.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">College of the Environment</a></li><li class="footer__item"><a href="https://www.ipd.uw.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Institute for Protein Design</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:help@uw.edu?subject=hyak help footer" target="_blank" rel="noopener noreferrer" class="footer__link-item">E-mail</a></li><li class="footer__item"><a href="https://mailman1.u.washington.edu/mailman/listinfo/hyak-users" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li><li class="footer__item"><a href="https://uw-hpcc.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://github.com/uwrc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="text--center"><div>Made with  in Seattle</div></div></div></footer></div>
<script src="/styles.9010a70b.js"></script>
<script src="/runtime~main.8c0411d9.js"></script>
<script src="/main.89d9f2a1.js"></script>
<script src="/1.17833472.js"></script>
<script src="/2.c82e935d.js"></script>
<script src="/3.3df69f52.js"></script>
<script src="/74.df97ad25.js"></script>
<script src="/1be78505.d186b99c.js"></script>
<script src="/935f2afb.990ee59a.js"></script>
<script src="/17896441.a339b587.js"></script>
<script src="/8c3792d9.0950cc7a.js"></script>
</body>
</html>